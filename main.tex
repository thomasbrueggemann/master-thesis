%
% Master Thesis
% Thomas Br√ºggemann
%

% Common Settings
% ------------------------
\documentclass[
	a4paper,
	oneside,
	12pt,
	liststotocnumbered
]{article}
\usepackage{times}            % Times New Roman

\usepackage[utf8]{inputenc}   % utf-8
\usepackage[english]{babel}
\selectlanguage{english}
\usepackage{nicefrac}
\usepackage{latexsym}
\usepackage{listings}
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
\usepackage{color}
\usepackage{MnSymbol}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{
  backgroundcolor=\color{white},
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  commentstyle=\color{mygreen},
  deletekeywords={...},
  escapeinside={\%*}{*)},
  extendedchars=true,
  frame=single,
  keepspaces=true,
  keywordstyle=\color{blue},
  language=Java,
  otherkeywords={*,...},
  numbers=left,
  numbersep=10pt,
  numberstyle=\tiny\color{mygray},
  rulecolor=\color{black},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  stepnumber=1,
  stringstyle=\color{mymauve},
  tabsize=2,
  aboveskip=2em,
  postbreak={\mbox{\quad$\lhookrightarrow$ }}
}

% Title font sizes
\usepackage{titlesec}
\titleformat{\section}{\bfseries}{\thesection.}{12pt}{}
\titleformat{\subsection}{\bfseries}{\thesubsection }{12pt}{}

% Margins
\usepackage[
    top=2.5cm, 
    bottom=2.5cm, 
    left=5cm, 
    right=1cm
]{geometry} 

% Footnotes
\usepackage[hang,flushmargin]{footmisc}    
\renewcommand*{\footnotelayout}{\footnotesize} % size of text
\renewcommand{\footnotemargin}{2.2em}          % margin between text and number
\setlength{\footnotesep}{1.3em}                % space between footnotes
\setlength{\skip\footins}{2.5em}               % space between text & footnotes
\usepackage{savefnmark}

% Acronyms
\usepackage[printonlyused]{acronym}    
\newcommand{\bflabel}[1]{{#1\hfill}}

% Page numeration oben
\usepackage{scrpage2} 
\clearscrheadfoot 
\chead[\pagemark]{\textcolor[gray]{0.5}{\pagemark}} 
\pagestyle{scrheadings}

% TOC, LOF, FIG Styles
\usepackage{tocloft, titletoc}  
\setlength{\cftaftertoctitleskip}{0em}
\renewcommand{\cftloftitlefont}{\bfseries}
%\renewcommand{\cftfigfont}{\bfseries}
\renewcommand{\cfttoctitlefont}{\bfseries}
\renewcommand{\cftlottitlefont}{\bfseries}
\titlecontents{section}     % set formatting for \section 
[2.3em]                     % adjust left margin
{\vspace{0.5em}}            % font formatting
{\hspace{-1.8em}.\contentslabel{0.7em}\hspace{1em}} % section label and offset
{\hspace*{-2.3em}}
{\titlerule*[1mm]{.}\contentspage}

\titlecontents{subsection}  % set formatting for \subsection 
[3em]                       % adjust left margin
{\vspace{0.5em}}            % font formatting
{\contentslabel{2.3em}}     % section label and offset
{\hspace*{-2.3em}}
{\titlerule*[1mm]{.}\contentspage}

\titlecontents{subsubsection}  % set formatting for \subsubsection 
[4.2em]                       % adjust left margin
{\vspace{0.5em}}            % font formatting
{\contentslabel{2.3em}}     % section label and offset
{\hspace*{-2.3em}}
{\titlerule*[1mm]{.}\contentspage}

\titlecontents{figure}      % set formatting for \subsection 
[2.3em]                     % adjust left margin
{\vspace{0.5em}}            % font formatting
{\contentslabel{2.3em}}     % section label and offset
{\hspace*{-2.3em}}
{\titlerule*[1mm]{.}\contentspage}

\titlecontents{table}       % set formatting for \subsection 
[3.4em]                     % adjust left margin
{\vspace{0.5em}}            % font formatting
{:\hspace*{0.9em}\contentslabel{4.5em}}     % section label and offset
{\hspace*{-2.3em}}
{\titlerule*[1mm]{.}\contentspage}


% References
\usepackage[
    bibstyle=authortitle,
    citestyle=authoryear,
    isbn=false,
    url=false,
    doi=false,
    maxcitenames=3,
    maxbibnames=30
]{biblatex}
\addbibresource{library.bib}
\let\cite\textcite

\usepackage{caption}
\usepackage{chngcntr}

% Tables
\usepackage{array}
\usepackage{longtable}
\usepackage{setspace}
\counterwithin{table}{section}
\usepackage{multirow}

% Figures
\usepackage[pdftex]{graphicx}
\graphicspath{{figures}}
\counterwithin{figure}{section}
\usepackage[absolute,overlay]{textpos}

\begin{document}

% Renews
\renewcommand{\figurename}{Fig.}
\renewcommand{\tablename}{Tab.}
\renewcommand\thefigure{\arabic{section}-\arabic{figure}}
\renewcommand\thetable{\arabic{section}-\arabic{table}}
\newcommand{\todo}[1]{\textbf{\textsc{\textcolor{red}{TODO: #1}}}}
\renewcommand{\thelstlisting}{\thesection-\arabic{lstlisting}}
\renewcommand\lstlistlistingname{List of Listings}
\renewcommand\lstlistingname{List.}

% Variables
\newcommand{\mH}{mHealth }
\newcommand{\ap}{app provider }
\newcommand{\pp}{privacy policy }
\newcommand{\pps}{privacy policies }
\newcommand{\sca}{static code analysis }
\newcommand{\Sca}{Static code analysis }
\newcommand{\pra}{information privacy risk assessment }
\newcommand{\prfs}{information privacy risk factors }
\newcommand{\ipr}{information privacy risks }
\newcommand{\iprfs}{information privacy risk factors }
\newcommand{\iprs}{information privacy risk score }
\newcommand{\gui}{graphical user interface }
\newcommand{\ipp}{information privacy practices }
\newcommand{\Ipp}{Information privacy practices }
\newcommand{\aiprat}{automated information privacy risk assessment tool }
\newcommand{\nbc}{naive Bayes classifier }
\newcommand{\AIPRAT}{\textit{AIPRAT} }
\newcommand{\ml}{machine learning }

\pagenumbering{Roman}

% ---------
% Cover pages
% ---------
\include{titlepages/cover}

% ------------------
% Table of Contents
% ------------------
\tocloftpagestyle{scrheadings}
\tableofcontents
\newpage

% ---------------------
% Acronyms
% ---------------------
\include{titlepages/acronyms}

% -------------------
% List of tables
% -------------------
\listoftables
\addcontentsline{toc}{section}{List of Tables}
\newpage

% -------------------
% List of figures
% -------------------
\listoffigures
\addcontentsline{toc}{section}{List of Figures}
\newpage

% -------------------
% List of listings
% -------------------
\lstlistoflistings
\addcontentsline{toc}{section}{List of Listings}
\newpage

\normalsize
\setstretch{1,5}
\pagenumbering{arabic}

% ------
% Chapters
% ---------
\include{chapters/1-introduction}
\include{chapters/2-relatedwork}
\include{chapters/3-method}
\include{chapters/4-results}
\include{chapters/5-discussion}
\newpage

% --------------------
% References
% --------------------
\newpage
\patchcmd{\bibsetup}{\interlinepenalty=5000}{\interlinepenalty=10000}{}{}
\printbibliography[title={References}]
\addcontentsline{toc}{section}{References}
\newpage

% ---------
% Appendix
% ---------
\include{titlepages/appendices}
\include{titlepages/declaration}
\include{titlepages/cv}

\end{document}
